
# Лаборатория исследований гражданского общества

# Определение уязвимых групп населения

### Оглавление

[1. Описание проекта](./README.md#1-Описание-проекта) 
[2. Цели исследования](./README.md#2-Цели исследования) 
[3. Данные](./README.md#3-Данные)  
[4. Этапы работы над проектом](./README.md#4-Этапы работы над проектом)    
[5. Результаты и выводы](./README.md#5-Результаты-и-выводы)    


### 1. Описание проекта

Данный проект направлен на исследование уязвимых групп населения России и определение регионов, наиболее остро нуждающихся в помощи. Мы используем данные о доходах, заболеваемости, социально незащищённых слоях населения и другие экономические и демографические данные для кластеризации регионов и анализа факторов, влияющих на уровень бедности.

### 2. Цели исследования

1. Кластеризация регионов России для выявления нуждающихся в помощи малообеспеченных слоёв населения.
2. Описание групп населения, сталкивающихся с бедностью.
3. Определение влияния числа детей, пенсионеров и других социально уязвимых групп на уровень бедности в регионе.
4. Анализ взаимосвязи между уровнем бедности/социального неблагополучия и производством/потреблением в регионах.
5. Выявление других зависимостей относительно социально незащищённых слоёв населения.

### 3. Данные

Проект использует следующие наборы данных:

- **child_mortality_rural_1990_2021.xls**: Число умерших на первом году жизни детей в сельской местности по регионам.
- **child_mortality_urban_1990_2021.xls**: Число умерших на первом году жизни детей в городской местности по регионам.
- **disabled_total_by_age_2017_2022.csv**: Число людей с инвалидностью по регионам, по месяцам, по возрастным группам.
- **morbidity_2005_2020_age_disease.xls**: Заболеваемость на 100 тыс. человек населения по возрастным группам и группам заболеваний.
- **poverty_percent_by_regions_1992_2020.csv**: Процент людей, живущих за чертой бедности по регионам.
- **welfare_expense_share_2015_2020.csv**: Расходы на социальную политику от общих расходов бюджета региона.
- **cash_real_income_wages_2015_2020.csv**: Среднедушевые и реальные денежные доходы населения по регионам.
- **poverty_socdem_20*.xls**: Распределение малоимущего населения по социально-демографическим группам за 2017–2020 гг. по регионам.
- **housing_2020.csv**: Характеристика жилищных условий домохозяйств.
- **population.xlsx**: Численность населения по регионам на 1 января каждого года за 1999–2022 гг.
- **gross_regional_product_1996_2020.xls**: Валовой региональный продукт на душу населения в рублях.
- **regional_production_*_*.csv**: Объём отгруженных товаров или выполненных работ/услуг по видам деятельности.
- **retail_turnover_per_capita_2000_2021.xls**: Оборот розничной торговли на душу населения в рублях.
- Папка **crimes/**: Сведения о преступлениях, совершённых отдельными категориями лиц за 2016–2022 гг.


:arrow_up: [к оглавлению](./README.md#Оглавление)


### 4. Этапы работы над проектом

- формирование единого датасета: [make_dataset.ipynb](./make_dataset.ipynb)
- EDA и кластеризация: [eda_clustering.ipynb](./eda_clustering.ipynb)
- анализ кластеризации и модели классификации кластеров: [cluster_analyse.ipynb](./cluster_analyse.ipynb)
- разработка сервиса для предсказания кластеров: [prod/](./)


:arrow_up: [к оглавлению](./README.md#Оглавление)


### 5. Результаты и выводы

* Из представленных датасетов, представляющие собой временные ряды из разных диапазонов дат, отражающих социальные, экономические и демографические признаки Российской Федерации, мной было выбрано среднее значение по показателям за 2017 - 2021, либо за 2017 - 2020 гг. В целях формирования единого датасета, мной были приведены к единому написанию субъекты Российской Федерации, были отброшены исчерпывающие, на мой взгляд, данные, например, данные по федеральным округам и по экономическим районам. В датасетах были оставлены данные для 85 субъектов Российской Федерации, и далее путем присоединения, данные были сформированы в единый датасет. Таким образом, был сформирован датасет состоящий из 85 строк в качестве индекса (субъектов РФ) и 30 признаков, состоящих из средних значений по социальным, экономическим и демографическим показателям за 2017 - 2021 или 2017 - 2020 гг.  

* Был произведен предварительный анализ датасета по некоторым экономическим показателям, были сделаны предварительные выводы по регионам. Были построены гистограммы распределений признаков, в ходе которого, было принято решение логарифмировать, 'скошенные вправо' данные, однако, ввиду ограничений по удалению выбросов, мной в качестве масштабирования, 
робастное масштабирование (Robust Scaling) для уменьшения влияние выбросов, сохраняя важную информацию в данных.
Далее был выполнен корреляционный анализ признаков, некоторые признаки оказались сильно коррелированы, ввиду этого выполнено техника понижения размерности PCA до 3 компонент (первая компонента - региональная экономика, вторая компонента - экономические показатели благосостояния населения, третья компонента - социальные показатели).

* В качестве базовой модели выбран алгоритм kmeans. Также были испробованы и другие алгоритмы кластеризации, а также другой метод понижения размерности - t-sne, однако в сравнении с метриками, был выбран алгоритм kmeans, с числом кластеров 3.

* 3 кластера отражают регионы с высоким благосостоянием, средним и низким благостояниям. Самый большой кластер отражает регионы со средним благосстоянием.

* Проведен анализ кластеров. Отмечается:
- что в кластере 2 сосредоточен высокий процент населения находящегося за чертой бедности (подтверждается статистически и графически),туда входят республики Северного Кавказа и некоторые регионы Дальнего Востока;
- по признакам бедных детей,бедных пенсионеров и бедных трудноспособных статистически значимого различия по этим признакам в кластерах, в целом не наблюдается, и значения этих признаков между кластерами "размыты" и они не служили главным образом основными признаками деления по кластерам. Например, 'рабочие' регионы, такие как Ямало-Ненецкий автономный округ, Ненецкий автономный округ, Ханты-Мансийский автономный округ попали в 0 кластер, то есть в кластер "зажиточных регионов", однако в данных регионах наблюдается проблема с процентом бедных детей, а в кластере 2 , кластере 'неблагополучных регионов', несмотря, на большой процент детей, уровень бедности среди детей, не очень большой.
- На вопрос "влияет ли число детей, пенсионеров и других социально уязвимых групп на уровень бедности в регионе" отвечает корреляционный анализ количества детей, пенсионеров и трудоспособных людей в регионах. Умеренная связь подтверждается только с **количеством детей**, с остальными признаками уровень бедности никак не коррелирует. 
- уровень бедности/социального неблагополучия **связаны** с производством и потреблением, что также подтвержадется корреляционным и графическими анализами, а именно с Валовым региональным продуктом, с объемом розничной торговли на душу населения, с долей отгруженных товаров собственного производства 
 
* В целях дальнейшей реализации сервиса, мной был реализован подбор модели классификации для того, чтобы модель могла предсказывать кластер, в результате чего, была выбрана модель логистической регрессии и в дальнейшем сохранена.

* Разработан Flask-сервис, позволяющий предсказывать кластер на основе социально-экономических и демографических показателях. Сервис работает на основе клиент-сервисной архитектуры. 

:arrow_up: [к оглавлению](./README.md#Оглавление)
